{
  "id": "345e0e8a-c0f7-48e7-8536-443517b7d519",
  "revision": 0,
  "last_node_id": 103,
  "last_link_id": 131,
  "nodes": [
    {
      "id": 36,
      "type": "SetNode",
      "pos": [
        -1759.5972900390625,
        862.6422119140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "link": 43
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_height",
      "properties": {
        "previousName": "height"
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 37,
      "type": "SetNode",
      "pos": [
        -1759.614990234375,
        965.98583984375
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "link": 44
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_frames",
      "properties": {
        "previousName": "frames"
      },
      "widgets_values": [
        "frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 35,
      "type": "SetNode",
      "pos": [
        -1756.5689697265625,
        742.2388916015625
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "link": 42
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_width",
      "properties": {
        "previousName": "width"
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 23,
      "type": "PreviewImage",
      "pos": [
        -716.001220703125,
        1233.12353515625
      ],
      "size": [
        221.14199829101562,
        292.7167663574219
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 21
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": []
    },
    {
      "id": 41,
      "type": "GetNode",
      "pos": [
        -1479.2786865234375,
        1589.4775390625
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            48
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 42,
      "type": "GetNode",
      "pos": [
        -1255.06005859375,
        1588.812744140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            49
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 18,
      "type": "LoadImage",
      "pos": [
        -1481.2677001953125,
        1221.645263671875
      ],
      "size": [
        324.573486328125,
        326
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            18
          ]
        },
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "1e3322f55ff409b34d5b7edb9ad1a51e899c0d673cc220ccbb01421d820a6435.png",
        "image",
        ""
      ]
    },
    {
      "id": 47,
      "type": "ImageResizeKJv2",
      "pos": [
        -1320.462646484375,
        -58.55791473388672
      ],
      "size": [
        314.4444580078125,
        285.5555419921875
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 50
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 51
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 52
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            54,
            57
          ]
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ]
    },
    {
      "id": 60,
      "type": "GetNode",
      "pos": [
        -395.2097473144531,
        1449.4461669921875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            65
          ]
        }
      ],
      "title": "Get_frames",
      "properties": {},
      "widgets_values": [
        "frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 67,
      "type": "GetNode",
      "pos": [
        803.2085571289062,
        1453.54296875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            72
          ]
        }
      ],
      "title": "Get_frames",
      "properties": {},
      "widgets_values": [
        "frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 62,
      "type": "PreviewImage",
      "pos": [
        265.37054443359375,
        1234.1329345703125
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 66
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 64,
      "type": "MaskPreview+",
      "pos": [
        493.85015869140625,
        1229.1748046875
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "label": "mask",
          "name": "mask",
          "type": "MASK",
          "link": 67
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "MaskPreview+"
      },
      "widgets_values": []
    },
    {
      "id": 70,
      "type": "WanVideoVACEStartToEndFrame",
      "pos": [
        1037.3299560546875,
        1242.98779296875
      ],
      "size": [
        403.1999816894531,
        142
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "label": "start_image",
          "name": "start_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 70
        },
        {
          "label": "end_image",
          "name": "end_image",
          "shape": 7,
          "type": "IMAGE"
        },
        {
          "label": "control_images",
          "name": "control_images",
          "shape": 7,
          "type": "IMAGE",
          "link": 71
        },
        {
          "label": "inpaint_mask",
          "name": "inpaint_mask",
          "shape": 7,
          "type": "MASK"
        },
        {
          "label": "num_frames",
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 72
        }
      ],
      "outputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "links": [
            68,
            75
          ]
        },
        {
          "label": "masks",
          "name": "masks",
          "type": "MASK",
          "links": [
            69,
            76
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanVideoVACEStartToEndFrame"
      },
      "widgets_values": [
        81,
        0.5
      ]
    },
    {
      "id": 44,
      "type": "VHS_LoadVideo",
      "pos": [
        -1706.502197265625,
        -45.87069320678711
      ],
      "size": [
        253.279296875,
        479.15704345703125
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            50
          ]
        },
        {
          "label": "frame_count",
          "name": "frame_count",
          "type": "INT"
        },
        {
          "label": "audio",
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "widgets_values": {
        "video": "ca66a2954767420e36b5a29a5eaac06dab2e5070281f215954ecf6a3f6d3a3e4.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 81,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "custom_height": 512,
            "filename": "ca66a2954767420e36b5a29a5eaac06dab2e5070281f215954ecf6a3f6d3a3e4.mp4",
            "force_rate": 0,
            "custom_width": 0,
            "select_every_nth": 1,
            "frame_load_cap": 81,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        }
      }
    },
    {
      "id": 31,
      "type": "VAEDecode",
      "pos": [
        1327.1187744140625,
        780.666015625
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 75,
      "mode": 0,
      "inputs": [
        {
          "label": "samples",
          "name": "samples",
          "type": "LATENT",
          "link": 32
        },
        {
          "label": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 91
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            34
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": []
    },
    {
      "id": 22,
      "type": "ImageResizeKJv2",
      "pos": [
        -1055.62255859375,
        1210.5501708984375
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 18
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 48
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 49
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21,
            61
          ]
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ]
    },
    {
      "id": 55,
      "type": "WanVideoVACEStartToEndFrame",
      "pos": [
        -162.74771118164062,
        1248.8431396484375
      ],
      "size": [
        403.1999816894531,
        142
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "label": "start_image",
          "name": "start_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 62
        },
        {
          "label": "end_image",
          "name": "end_image",
          "shape": 7,
          "type": "IMAGE"
        },
        {
          "label": "control_images",
          "name": "control_images",
          "shape": 7,
          "type": "IMAGE",
          "link": 64
        },
        {
          "label": "inpaint_mask",
          "name": "inpaint_mask",
          "shape": 7,
          "type": "MASK"
        },
        {
          "label": "num_frames",
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 65
        }
      ],
      "outputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "links": [
            66,
            73
          ]
        },
        {
          "label": "masks",
          "name": "masks",
          "type": "MASK",
          "links": [
            67,
            74
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanVideoVACEStartToEndFrame"
      },
      "widgets_values": [
        81,
        0.5
      ]
    },
    {
      "id": 75,
      "type": "GetNode",
      "pos": [
        -659.5377807617188,
        637.2384643554688
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            77,
            97
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 76,
      "type": "GetNode",
      "pos": [
        -659.0992431640625,
        740.7647705078125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            98
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 77,
      "type": "GetNode",
      "pos": [
        -657.7484130859375,
        847.0278930664062
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            78,
            99
          ]
        }
      ],
      "title": "Get_frames",
      "properties": {},
      "widgets_values": [
        "frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 59,
      "type": "SetNode",
      "pos": [
        819.0555419921875,
        -57.66651916503906
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 71,
      "mode": 0,
      "inputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 112
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_control_images1",
      "properties": {
        "previousName": "control_images1"
      },
      "widgets_values": [
        "control_images1"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 54,
      "type": "SetNode",
      "pos": [
        828.0072021484375,
        48.24888610839844
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 72,
      "mode": 0,
      "inputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 117
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_control_images2",
      "properties": {
        "previousName": "control_images2"
      },
      "widgets_values": [
        "control_images2"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 45,
      "type": "GetNode",
      "pos": [
        -1954.524169921875,
        -43.72003936767578
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            51,
            109,
            114
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 46,
      "type": "GetNode",
      "pos": [
        -1956.627685546875,
        70.58536529541016
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            52,
            110,
            115
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 92,
      "type": "ImageResizeKJv2",
      "pos": [
        425.8033142089844,
        -55.40586853027344
      ],
      "size": [
        314.4444580078125,
        285.5555419921875
      ],
      "flags": {},
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 116
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 114
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 115
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            117
          ]
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ]
    },
    {
      "id": 24,
      "type": "KSampler",
      "pos": [
        1013.1061401367188,
        639.578857421875
      ],
      "size": [
        270,
        262
      ],
      "flags": {},
      "order": 73,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 38
        },
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 125
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 126
        },
        {
          "label": "latent_image",
          "name": "latent_image",
          "type": "LATENT",
          "link": 127
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            36
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        905074390800411,
        "randomize",
        10,
        1,
        "lcm",
        "simple",
        1
      ]
    },
    {
      "id": 83,
      "type": "GetNode",
      "pos": [
        721.0275268554688,
        587.1284790039062
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            89
          ]
        }
      ],
      "title": "Get_model",
      "properties": {},
      "widgets_values": [
        "model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 85,
      "type": "GetNode",
      "pos": [
        755.1590576171875,
        874.42578125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "VAE",
          "name": "VAE",
          "type": "VAE",
          "links": [
            91
          ]
        }
      ],
      "title": "Get_vae",
      "properties": {},
      "widgets_values": [
        "vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 56,
      "type": "SetNode",
      "pos": [
        -1004.81298828125,
        1564.9188232421875
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 61
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_startimg",
      "properties": {
        "previousName": "startimg"
      },
      "widgets_values": [
        "startimg"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 84,
      "type": "GetNode",
      "pos": [
        -668.8045043945312,
        963.41748046875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "VAE",
          "name": "VAE",
          "type": "VAE",
          "links": [
            90,
            124
          ]
        }
      ],
      "title": "Get_vae",
      "properties": {},
      "widgets_values": [
        "vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 38,
      "type": "SetNode",
      "pos": [
        -1433.525634765625,
        1018.46875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "link": 123
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_model",
      "properties": {
        "previousName": "model"
      },
      "widgets_values": [
        "model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 39,
      "type": "SetNode",
      "pos": [
        -939.4805297851562,
        1015.1087036132812
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "label": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "link": 46
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_clip",
      "properties": {
        "previousName": "clip"
      },
      "widgets_values": [
        "clip"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 40,
      "type": "SetNode",
      "pos": [
        -1175.4969482421875,
        1014.59716796875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "label": "VAE",
          "name": "VAE",
          "type": "VAE",
          "link": 47
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_vae",
      "properties": {
        "previousName": "vae"
      },
      "widgets_values": [
        "vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 32,
      "type": "VHS_VideoCombine",
      "pos": [
        1963.71435546875,
        566.2305908203125
      ],
      "size": [
        1191.376708984375,
        1023.7942504882812
      ],
      "flags": {},
      "order": 76,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 34
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00001_otehk_1750006334.mp4",
            "workflow": "AnimateDiff_00001.png",
            "fullpath": "/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/AnimateDiff_00001.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 73,
      "type": "SetNode",
      "pos": [
        1018.6597900390625,
        1429.2164306640625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 75
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_vace_img2",
      "properties": {
        "previousName": "vace_img2"
      },
      "widgets_values": [
        "vace_img2"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 74,
      "type": "SetNode",
      "pos": [
        1240.341064453125,
        1426.0911865234375
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK",
          "link": 76
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_vace_mask2",
      "properties": {
        "previousName": "vace_mask2"
      },
      "widgets_values": [
        "vace_mask2"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 13,
      "type": "CLIPLoader",
      "pos": [
        -1451.20654296875,
        760.520751953125
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            10,
            11,
            46
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        "wan",
        "default"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 14,
      "type": "VAELoader",
      "pos": [
        -1450.5269775390625,
        913.9583740234375
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "VAE",
          "name": "VAE",
          "type": "VAE",
          "links": [
            47
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "wan_2.1_vae_Comfy-Org.safetensors"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 94,
      "type": "TorchCompileModelWanVideo",
      "pos": [
        -1161.237548828125,
        631.2545166015625
      ],
      "size": [
        406.8450012207031,
        178
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 131
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            130
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TorchCompileModelWanVideo"
      },
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true
      ]
    },
    {
      "id": 33,
      "type": "PathchSageAttentionKJ",
      "pos": [
        -1143.0716552734375,
        896.147705078125
      ],
      "size": [
        401.3017883300781,
        58
      ],
      "flags": {},
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 130
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            123
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PathchSageAttentionKJ"
      },
      "widgets_values": [
        "auto"
      ]
    },
    {
      "id": 19,
      "type": "INTConstant",
      "pos": [
        -2007.54736328125,
        755.3023681640625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "value",
          "name": "value",
          "type": "INT",
          "links": [
            42
          ]
        }
      ],
      "title": "widh",
      "properties": {
        "Node name for S&R": "INTConstant",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        832
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 20,
      "type": "INTConstant",
      "pos": [
        -2007.0933837890625,
        850.2870483398438
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "value",
          "name": "value",
          "type": "INT",
          "links": [
            16,
            43
          ]
        }
      ],
      "title": "height",
      "properties": {
        "Node name for S&R": "INTConstant",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        480
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 21,
      "type": "INTConstant",
      "pos": [
        -2010.573974609375,
        967.3162231445312
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "value",
          "name": "value",
          "type": "INT",
          "links": [
            44
          ]
        }
      ],
      "title": "frames",
      "properties": {
        "Node name for S&R": "INTConstant",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        49
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 88,
      "type": "ImageResizeKJv2",
      "pos": [
        -1313.255126953125,
        -52.45402908325195
      ],
      "size": [
        314.4444580078125,
        285.5555419921875
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE"
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ]
    },
    {
      "id": 52,
      "type": "AIO_Preprocessor",
      "pos": [
        -976.2492065429688,
        223.44320678710938
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 57
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            58,
            116
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor"
      },
      "widgets_values": [
        "DepthAnythingV2Preprocessor",
        512
      ]
    },
    {
      "id": 49,
      "type": "DWPreprocessor",
      "pos": [
        -953.3994750976562,
        -71.23176574707031
      ],
      "size": [
        315,
        222
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 54
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            55,
            111
          ]
        },
        {
          "label": "POSE_KEYPOINT",
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT"
        }
      ],
      "properties": {
        "Node name for S&R": "DWPreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ]
    },
    {
      "id": 48,
      "type": "VHS_VideoCombine",
      "pos": [
        -633.091064453125,
        -68.63880920410156
      ],
      "size": [
        324.7521667480469,
        523.7129516601562
      ],
      "flags": {},
      "order": 65,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 55
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00082_taugk_1750092701.mp4",
            "workflow": "AnimateDiff_00082.png",
            "fullpath": "/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/temp/AnimateDiff_00082.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 53,
      "type": "VHS_VideoCombine",
      "pos": [
        -290.3473815917969,
        -53.45235061645508
      ],
      "size": [
        324.7521667480469,
        523.7129516601562
      ],
      "flags": {},
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 58
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00081_nfbzu_1750092542.mp4",
            "workflow": "AnimateDiff_00081.png",
            "fullpath": "/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/temp/AnimateDiff_00081.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 91,
      "type": "ImageResizeKJv2",
      "pos": [
        93.55006408691406,
        -52.70970153808594
      ],
      "size": [
        314.4444580078125,
        285.5555419921875
      ],
      "flags": {},
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 111
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 109
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 110
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            112
          ]
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "cnr_id": "comfyui-kjnodes",
        "ver": "5dcda71011870278c35d92ff77a677ed2e538f2d"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2,
        "cpu"
      ]
    },
    {
      "id": 58,
      "type": "GetNode",
      "pos": [
        -400.9936828613281,
        1330.6826171875
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            64
          ]
        }
      ],
      "title": "Get_control_images1",
      "properties": {},
      "widgets_values": [
        "control_images1"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 65,
      "type": "GetNode",
      "pos": [
        807.4656982421875,
        1226.23193359375
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            70
          ]
        }
      ],
      "title": "Get_startimg",
      "properties": {},
      "widgets_values": [
        "startimg"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 66,
      "type": "GetNode",
      "pos": [
        799.3903198242188,
        1338.982421875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            71
          ]
        }
      ],
      "title": "Get_control_images2",
      "properties": {},
      "widgets_values": [
        "control_images2"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 69,
      "type": "MaskPreview+",
      "pos": [
        1697.7860107421875,
        1232.76708984375
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "label": "mask",
          "name": "mask",
          "type": "MASK",
          "link": 69
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "MaskPreview+"
      },
      "widgets_values": []
    },
    {
      "id": 68,
      "type": "PreviewImage",
      "pos": [
        1464.559326171875,
        1238.2242431640625
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 68
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 57,
      "type": "GetNode",
      "pos": [
        -394.2297668457031,
        1219.3477783203125
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            62
          ]
        }
      ],
      "title": "Get_startimg",
      "properties": {},
      "widgets_values": [
        "startimg"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 15,
      "type": "CLIPTextEncode",
      "pos": [
        -390.6172790527344,
        616.6639404296875
      ],
      "size": [
        379.0909118652344,
        133.6363525390625
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "label": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 11
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            12
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "两条金龙围着一个美女在飞舞"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 17,
      "type": "WanVaceToVideo",
      "pos": [
        68.86355590820312,
        641.3568115234375
      ],
      "size": [
        270,
        254
      ],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 12
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 13
        },
        {
          "label": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 124
        },
        {
          "label": "control_video",
          "name": "control_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 79
        },
        {
          "label": "control_masks",
          "name": "control_masks",
          "shape": 7,
          "type": "MASK",
          "link": 80
        },
        {
          "label": "reference_image",
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE"
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 77
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 16
        },
        {
          "label": "length",
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 78
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            92
          ]
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            84
          ]
        },
        {
          "label": "latent",
          "name": "latent",
          "type": "LATENT",
          "links": []
        },
        {
          "label": "trim_latent",
          "name": "trim_latent",
          "type": "INT",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "WanVaceToVideo",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        832,
        480,
        81,
        1,
        1
      ]
    },
    {
      "id": 16,
      "type": "CLIPTextEncode",
      "pos": [
        -396.21539306640625,
        787.7055053710938
      ],
      "size": [
        379.0909118652344,
        133.6363525390625
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "label": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 10
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            13
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 78,
      "type": "GetNode",
      "pos": [
        -418.0010986328125,
        965.8292846679688
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            79
          ]
        }
      ],
      "title": "Get_vace_img1",
      "properties": {},
      "widgets_values": [
        "vace_img1"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 79,
      "type": "GetNode",
      "pos": [
        -172.22352600097656,
        969.0773315429688
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK",
          "links": [
            80
          ]
        }
      ],
      "title": "Get_vace_mask1",
      "properties": {},
      "widgets_values": [
        "vace_mask1"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 71,
      "type": "SetNode",
      "pos": [
        -142.23287963867188,
        1434.2962646484375
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 73
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_vace_img1",
      "properties": {
        "previousName": "vace_img1"
      },
      "widgets_values": [
        "vace_img1"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 72,
      "type": "SetNode",
      "pos": [
        -146.9383087158203,
        1536.728271484375
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK",
          "link": 74
        }
      ],
      "outputs": [
        {
          "label": "*",
          "name": "*",
          "type": "*"
        }
      ],
      "title": "Set_vace_mask1",
      "properties": {
        "previousName": "vace_mask1"
      },
      "widgets_values": [
        "vace_mask1"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 82,
      "type": "GetNode",
      "pos": [
        342.15087890625,
        965.1655883789062
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK",
          "links": [
            81
          ]
        }
      ],
      "title": "Get_vace_mask2",
      "properties": {},
      "widgets_values": [
        "vace_mask2"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 81,
      "type": "GetNode",
      "pos": [
        90.04722595214844,
        958.7847290039062
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            82
          ]
        }
      ],
      "title": "Get_vace_img2",
      "properties": {},
      "widgets_values": [
        "vace_img2"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 27,
      "type": "ModelSamplingSD3",
      "pos": [
        724.1530151367188,
        762.0654907226562
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "name": "model",
          "type": "MODEL",
          "link": 89
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            38
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingSD3",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        8.000000000000002
      ]
    },
    {
      "id": 30,
      "type": "TrimVideoLatent",
      "pos": [
        1311.7945556640625,
        657.2180786132812
      ],
      "size": [
        270,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 74,
      "mode": 0,
      "inputs": [
        {
          "label": "samples",
          "name": "samples",
          "type": "LATENT",
          "link": 36
        },
        {
          "label": "trim_amount",
          "name": "trim_amount",
          "type": "INT",
          "widget": {
            "name": "trim_amount"
          },
          "link": 128
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            32
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TrimVideoLatent",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 96,
      "type": "Label (rgthree)",
      "pos": [
        -512.5546264648438,
        -787.6514282226562
      ],
      "size": [
        690.943359375,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "https://www.youtube.com/@sunleyan_2021",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 97,
      "type": "Label (rgthree)",
      "pos": [
        -851.5015258789062,
        -713.9906616210938
      ],
      "size": [
        408.076171875,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 29,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "bilibli：有趣的80后程序员",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 98,
      "type": "Label (rgthree)",
      "pos": [
        -853.2648315429688,
        -788.2085571289062
      ],
      "size": [
        306.123046875,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 30,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "youtube：AI老腊肉",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 99,
      "type": "Label (rgthree)",
      "pos": [
        -849.6506958007812,
        -628.2649536132812
      ],
      "size": [
        400.04296875,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 31,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "抖音：有趣的80后程序员",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 100,
      "type": "Label (rgthree)",
      "pos": [
        -849.1686401367188,
        -542.8898315429688
      ],
      "size": [
        288,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 32,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "工作流下载地址：",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 101,
      "type": "Label (rgthree)",
      "pos": [
        -533.4730834960938,
        -539.6161499023438
      ],
      "size": [
        806.484375,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 33,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "https://github.com/amao2001/ganloss-latent-space",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 102,
      "type": "Label (rgthree)",
      "pos": [
        -414.1449890136719,
        -716.6090698242188
      ],
      "size": [
        590.37890625,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 34,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "https://space.bilibili.com/1078072406",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 95,
      "type": "Label (rgthree)",
      "pos": [
        -851.7289428710938,
        -875.7727661132812
      ],
      "size": [
        1005.275390625,
        36
      ],
      "flags": {
        "allow_interaction": true
      },
      "order": 35,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "有趣的80后程序员：fusionx+comfyui native vace 首尾帧工作流",
      "properties": {
        "fontSize": 36,
        "fontFamily": "Arial",
        "fontColor": "#ffffff",
        "textAlign": "left",
        "backgroundColor": "transparent",
        "padding": 0,
        "borderRadius": 0
      },
      "color": "#fff0",
      "bgcolor": "#fff0"
    },
    {
      "id": 80,
      "type": "WanVaceToVideo",
      "pos": [
        381.2543029785156,
        644.6427612304688
      ],
      "size": [
        270,
        254
      ],
      "flags": {},
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 92
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 84
        },
        {
          "label": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 90
        },
        {
          "label": "control_video",
          "name": "control_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 82
        },
        {
          "label": "control_masks",
          "name": "control_masks",
          "shape": 7,
          "type": "MASK",
          "link": 81
        },
        {
          "label": "reference_image",
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE"
        },
        {
          "label": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 97
        },
        {
          "label": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 98
        },
        {
          "label": "length",
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 99
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            125
          ]
        },
        {
          "label": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            126
          ]
        },
        {
          "label": "latent",
          "name": "latent",
          "type": "LATENT",
          "links": [
            127
          ]
        },
        {
          "label": "trim_latent",
          "name": "trim_latent",
          "type": "INT",
          "links": [
            128
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanVaceToVideo",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        832,
        480,
        81,
        1,
        1
      ]
    },
    {
      "id": 11,
      "type": "UNETLoader",
      "pos": [
        -1427.58984375,
        628.8547973632812
      ],
      "size": [
        236.2003173828125,
        89.90419006347656
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "UNETLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34"
      },
      "widgets_values": [
        "wan2.1_vace_14B_fp8.safetensors",
        "fp8_e4m3fn"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 87,
      "type": "UnetLoaderGGUFAdvanced",
      "pos": [
        -1855.1383056640625,
        511.2512512207031
      ],
      "size": [
        328.3044738769531,
        130
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            131
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UnetLoaderGGUFAdvanced"
      },
      "widgets_values": [
        "Wan2.1_T2V_14B_FusionX_VACE-Q8_0_emw.gguf",
        "default",
        "default",
        false
      ]
    }
  ],
  "links": [
    [
      10,
      13,
      0,
      16,
      0,
      "CLIP"
    ],
    [
      11,
      13,
      0,
      15,
      0,
      "CLIP"
    ],
    [
      12,
      15,
      0,
      17,
      0,
      "CONDITIONING"
    ],
    [
      13,
      16,
      0,
      17,
      1,
      "CONDITIONING"
    ],
    [
      16,
      20,
      0,
      17,
      7,
      "INT"
    ],
    [
      18,
      18,
      0,
      22,
      0,
      "IMAGE"
    ],
    [
      21,
      22,
      0,
      23,
      0,
      "IMAGE"
    ],
    [
      32,
      30,
      0,
      31,
      0,
      "LATENT"
    ],
    [
      34,
      31,
      0,
      32,
      0,
      "IMAGE"
    ],
    [
      36,
      24,
      0,
      30,
      0,
      "LATENT"
    ],
    [
      38,
      27,
      0,
      24,
      0,
      "MODEL"
    ],
    [
      42,
      19,
      0,
      35,
      0,
      "*"
    ],
    [
      43,
      20,
      0,
      36,
      0,
      "*"
    ],
    [
      44,
      21,
      0,
      37,
      0,
      "*"
    ],
    [
      46,
      13,
      0,
      39,
      0,
      "*"
    ],
    [
      47,
      14,
      0,
      40,
      0,
      "*"
    ],
    [
      48,
      41,
      0,
      22,
      1,
      "INT"
    ],
    [
      49,
      42,
      0,
      22,
      2,
      "INT"
    ],
    [
      50,
      44,
      0,
      47,
      0,
      "IMAGE"
    ],
    [
      51,
      45,
      0,
      47,
      1,
      "INT"
    ],
    [
      52,
      46,
      0,
      47,
      2,
      "INT"
    ],
    [
      54,
      47,
      0,
      49,
      0,
      "IMAGE"
    ],
    [
      55,
      49,
      0,
      48,
      0,
      "IMAGE"
    ],
    [
      57,
      47,
      0,
      52,
      0,
      "IMAGE"
    ],
    [
      58,
      52,
      0,
      53,
      0,
      "IMAGE"
    ],
    [
      61,
      22,
      0,
      56,
      0,
      "*"
    ],
    [
      62,
      57,
      0,
      55,
      0,
      "IMAGE"
    ],
    [
      64,
      58,
      0,
      55,
      2,
      "IMAGE"
    ],
    [
      65,
      60,
      0,
      55,
      4,
      "INT"
    ],
    [
      66,
      55,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      67,
      55,
      1,
      64,
      0,
      "MASK"
    ],
    [
      68,
      70,
      0,
      68,
      0,
      "IMAGE"
    ],
    [
      69,
      70,
      1,
      69,
      0,
      "MASK"
    ],
    [
      70,
      65,
      0,
      70,
      0,
      "IMAGE"
    ],
    [
      71,
      66,
      0,
      70,
      2,
      "IMAGE"
    ],
    [
      72,
      67,
      0,
      70,
      4,
      "INT"
    ],
    [
      73,
      55,
      0,
      71,
      0,
      "*"
    ],
    [
      74,
      55,
      1,
      72,
      0,
      "*"
    ],
    [
      75,
      70,
      0,
      73,
      0,
      "*"
    ],
    [
      76,
      70,
      1,
      74,
      0,
      "*"
    ],
    [
      77,
      75,
      0,
      17,
      6,
      "INT"
    ],
    [
      78,
      77,
      0,
      17,
      8,
      "INT"
    ],
    [
      79,
      78,
      0,
      17,
      3,
      "IMAGE"
    ],
    [
      80,
      79,
      0,
      17,
      4,
      "MASK"
    ],
    [
      81,
      82,
      0,
      80,
      4,
      "MASK"
    ],
    [
      82,
      81,
      0,
      80,
      3,
      "IMAGE"
    ],
    [
      84,
      17,
      1,
      80,
      1,
      "CONDITIONING"
    ],
    [
      89,
      83,
      0,
      27,
      0,
      "MODEL"
    ],
    [
      90,
      84,
      0,
      80,
      2,
      "VAE"
    ],
    [
      91,
      85,
      0,
      31,
      1,
      "VAE"
    ],
    [
      92,
      17,
      0,
      80,
      0,
      "CONDITIONING"
    ],
    [
      97,
      75,
      0,
      80,
      6,
      "INT"
    ],
    [
      98,
      76,
      0,
      80,
      7,
      "INT"
    ],
    [
      99,
      77,
      0,
      80,
      8,
      "INT"
    ],
    [
      109,
      45,
      0,
      91,
      1,
      "INT"
    ],
    [
      110,
      46,
      0,
      91,
      2,
      "INT"
    ],
    [
      111,
      49,
      0,
      91,
      0,
      "IMAGE"
    ],
    [
      112,
      91,
      0,
      59,
      0,
      "IMAGE"
    ],
    [
      114,
      45,
      0,
      92,
      1,
      "INT"
    ],
    [
      115,
      46,
      0,
      92,
      2,
      "INT"
    ],
    [
      116,
      52,
      0,
      92,
      0,
      "IMAGE"
    ],
    [
      117,
      92,
      0,
      54,
      0,
      "IMAGE"
    ],
    [
      123,
      33,
      0,
      38,
      0,
      "MODEL"
    ],
    [
      124,
      84,
      0,
      17,
      2,
      "VAE"
    ],
    [
      125,
      80,
      0,
      24,
      1,
      "CONDITIONING"
    ],
    [
      126,
      80,
      1,
      24,
      2,
      "CONDITIONING"
    ],
    [
      127,
      80,
      2,
      24,
      3,
      "LATENT"
    ],
    [
      128,
      80,
      3,
      30,
      1,
      "INT"
    ],
    [
      130,
      94,
      0,
      33,
      0,
      "MODEL"
    ],
    [
      131,
      87,
      0,
      94,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "模型初始化",
      "bounding": [
        -1466.7576904296875,
        560.0149536132812,
        751.4465942382812,
        517.5792236328125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "提示词",
      "bounding": [
        -684.9920654296875,
        546.2982177734375,
        1357.7164306640625,
        539.8966674804688
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "参考图",
      "bounding": [
        -1491.267822265625,
        1148.044677734375,
        1038.4632568359375,
        511.13201904296875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "采样",
      "bounding": [
        712.9767456054688,
        547.3932495117188,
        947.6824951171875,
        562.5783081054688
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "config",
      "bounding": [
        -2019.3277587890625,
        671.7328491210938,
        499.5483703613281,
        397.70281982421875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Group",
      "bounding": [
        -1353.2430419921875,
        -144.199951171875,
        2463.602294921875,
        645.3358764648438
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "control1",
      "bounding": [
        -406.1957092285156,
        1154.199951171875,
        1181.431884765625,
        460.2158508300781
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "control2",
      "bounding": [
        792.22265625,
        1158.2967529296875,
        1160.18603515625,
        430.4813232421875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "video",
      "bounding": [
        -1966.6275634765625,
        -119.47076416015625,
        523.40478515625,
        562.7570190429688
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.25401326852420036,
      "offset": [
        2151.989841965572,
        406.19752854121646
      ]
    },
    "VHS_KeepIntermediate": true,
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.19.9",
    "VHS_latentpreview": false
  },
  "version": 0.4
}