{
	"last_link_id":309,
	"nodes":[
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"[English] Use Ctrl + B to enable multipule image input.\n\n[中文] 使用 **Ctrl + B** 来启用多张图片输入"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"MarkdownNote",
			"title":"About Flux Kontext Edit",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				320,
				88
			],
			"pos":[
				-538.156982421875,
				656.7127685546875
			],
			"id":175,
			"properties":{
				
			},
			"order":0
		},
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"[English] In addition to using **Image Stitch** to combine two images at a time, you can also encode individual images, then concatenate multiple latent conditions using the **ReferenceLatent** node, thus achieving the purpose of referencing multiple images. You can use the **EmptySD3LatentImage** node on the right to connect to **KSamper** and customize the size of the **latent_image**.\n\n[中文] 除了使用 **Image Stitch** 将两个两个图像拼合之外，你同样可以将单独的图像 encode 之后，将多个 latent 条件使用 **ReferenceLatent** 节点串联，从而实现多张图像参考的目的。可以使用右边的 **EmptySD3LatentImage** 节点连接到 **KSamper**来自定义 **latent_image** 的尺寸"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"MarkdownNote",
			"title":"About multiple images reference",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				540,
				150
			],
			"pos":[
				-30,
				-150
			],
			"id":178,
			"properties":{
				
			},
			"order":1
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						304
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				},
				{
					"name":"MASK_IMAGE",
					"label":"MASK_IMAGE",
					"type":"IMAGE",
					"localized_name":"MASK_IMAGE"
				}
			],
			"size":[
				315,
				290
			],
			"pos":[
				-892.90771484375,
				815.61962890625
			],
			"widgets_values":[
				"RMBG-2.0",
				1,
				1024,
				0,
				0,
				"white",
				false,
				"default",
				false
			],
			"inputs":[
				{
					"name":"image",
					"link":302,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				
			},
			"id":193,
			"type":"RMBG",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"RMBG"
			},
			"order":9
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				326.339111328125,
				293.2748718261719
			],
			"pos":[
				-538.4722290039062,
				803.2000122070312
			],
			"widgets_values":[
				""
			],
			"inputs":[
				{
					"name":"images",
					"link":289,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"flags":{
				
			},
			"id":173,
			"type":"PreviewImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.40",
				"Node name for S&R":"PreviewImage"
			},
			"order":15
		},
		{
			"outputs":[
				{
					"name":"CONDITIONING",
					"slot_index":0,
					"links":[
						237,
						294
					],
					"label":"CONDITIONING",
					"type":"CONDITIONING",
					"localized_name":"CONDITIONING"
				}
			],
			"color":"#232",
			"widgets_values":[
				""
			],
			"inputs":[
				{
					"name":"clip",
					"link":59,
					"label":"clip",
					"type":"CLIP",
					"localized_name":"clip"
				},
				{
					"widget":{
						"name":"text"
					},
					"name":"text",
					"link":306,
					"label":"text",
					"type":"STRING"
				}
			],
			"flags":{
				
			},
			"type":"CLIPTextEncode",
			"title":"CLIP Text Encode (Positive Prompt)",
			"mode":0,
			"bgcolor":"#353",
			"size":[
				285.6000061035156,
				58
			],
			"pos":[
				226.8601531982422,
				585.4564208984375
			],
			"id":6,
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.38",
				"Node name for S&R":"CLIPTextEncode"
			},
			"order":13
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"CONDITIONING",
					"links":[
						238
					],
					"label":"CONDITIONING",
					"type":"CONDITIONING",
					"localized_name":"CONDITIONING"
				}
			],
			"size":[
				240,
				26
			],
			"pos":[
				270.4570617675781,
				202.39610290527344
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"conditioning",
					"link":237,
					"label":"conditioning",
					"type":"CONDITIONING",
					"localized_name":"conditioning"
				}
			],
			"flags":{
				"collapsed":false
			},
			"id":135,
			"type":"ConditioningZeroOut",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.39",
				"Node name for S&R":"ConditioningZeroOut"
			},
			"order":16
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"slot_index":0,
					"links":[
						240
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				}
			],
			"size":[
				190,
				46
			],
			"pos":[
				618.961669921875,
				396.112548828125
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"samples",
					"link":52,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"name":"vae",
					"link":61,
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				"collapsed":false
			},
			"id":8,
			"type":"VAEDecode",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.38",
				"Node name for S&R":"VAEDecode"
			},
			"order":20
		},
		{
			"outputs":[
				{
					"name":"MODEL",
					"links":[
						308
					],
					"label":"MODEL",
					"type":"MODEL",
					"localized_name":"MODEL"
				}
			],
			"color":"#322",
			"widgets_values":[
				"flux1-dev-kontext_fp8_scaled.safetensors",
				"default"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"UNETLoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				337.76861572265625,
				82
			],
			"pos":[
				-875.3021240234375,
				59.8226203918457
			],
			"id":37,
			"properties":{
				"cnr_id":"comfy-core",
				"models":[
					{
						"name":"flux1-dev-kontext_fp8_scaled.safetensors",
						"directory":"diffusion_models",
						"url":"https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors"
					}
				],
				"ver":"0.3.38",
				"Node name for S&R":"UNETLoader"
			},
			"order":2
		},
		{
			"outputs":[
				{
					"name":"CLIP",
					"links":[
						59
					],
					"label":"CLIP",
					"type":"CLIP",
					"localized_name":"CLIP"
				}
			],
			"color":"#322",
			"widgets_values":[
				"clip_l.safetensors",
				"t5xxl_fp8_e4m3fn_scaled.safetensors",
				"flux",
				"default"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"DualCLIPLoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				337.76861572265625,
				130
			],
			"pos":[
				-874.5401611328125,
				192.8688507080078
			],
			"id":38,
			"properties":{
				"cnr_id":"comfy-core",
				"models":[
					{
						"name":"clip_l.safetensors",
						"directory":"text_encoders",
						"url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors"
					},
					{
						"name":"t5xxl_fp8_e4m3fn_scaled.safetensors",
						"directory":"text_encoders",
						"url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors"
					}
				],
				"ver":"0.3.38",
				"Node name for S&R":"DualCLIPLoader"
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"VAE",
					"links":[
						61,
						223
					],
					"label":"VAE",
					"type":"VAE",
					"localized_name":"VAE"
				}
			],
			"color":"#322",
			"widgets_values":[
				"ae.safetensors"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"VAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				337.76861572265625,
				58
			],
			"pos":[
				-885.9638061523438,
				366.0147705078125
			],
			"id":39,
			"properties":{
				"cnr_id":"comfy-core",
				"models":[
					{
						"name":"ae.safetensors",
						"directory":"vae",
						"url":"https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors"
					}
				],
				"ver":"0.3.38",
				"Node name for S&R":"VAELoader"
			},
			"order":4
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"MODEL",
					"links":[
						309
					],
					"label":"MODEL",
					"type":"MODEL",
					"localized_name":"MODEL"
				}
			],
			"size":[
				315,
				58
			],
			"pos":[
				-502.7774963378906,
				97.47528839111328
			],
			"widgets_values":[
				"auto"
			],
			"inputs":[
				{
					"name":"model",
					"link":308,
					"label":"model",
					"type":"MODEL",
					"localized_name":"model"
				}
			],
			"flags":{
				
			},
			"id":197,
			"type":"PathchSageAttentionKJ",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"PathchSageAttentionKJ"
			},
			"order":8
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						222,
						289
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				}
			],
			"size":[
				270,
				30
			],
			"pos":[
				-581.1654663085938,
				569.6156005859375
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"image",
					"link":304,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				"collapsed":false
			},
			"id":42,
			"type":"FluxKontextImageScale",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.38",
				"Node name for S&R":"FluxKontextImageScale"
			},
			"order":12
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"LATENT",
					"links":[
						293
					],
					"label":"LATENT",
					"type":"LATENT",
					"localized_name":"LATENT"
				}
			],
			"size":[
				240,
				50
			],
			"pos":[
				-7.215367794036865,
				214.79864501953125
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"pixels",
					"link":222,
					"label":"pixels",
					"type":"IMAGE",
					"localized_name":"pixels"
				},
				{
					"name":"vae",
					"link":223,
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				"collapsed":false
			},
			"id":124,
			"type":"VAEEncode",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.39",
				"Node name for S&R":"VAEEncode"
			},
			"order":14
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"CONDITIONING",
					"links":[
						292
					],
					"label":"CONDITIONING",
					"type":"CONDITIONING",
					"localized_name":"CONDITIONING"
				}
			],
			"size":[
				211.60000610351562,
				46
			],
			"pos":[
				19.761384963989258,
				92.7289810180664
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"conditioning",
					"link":294,
					"label":"conditioning",
					"type":"CONDITIONING",
					"localized_name":"conditioning"
				},
				{
					"shape":7,
					"name":"latent",
					"link":293,
					"label":"latent",
					"type":"LATENT",
					"localized_name":"latent"
				}
			],
			"flags":{
				
			},
			"id":177,
			"type":"ReferenceLatent",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.41",
				"Node name for S&R":"ReferenceLatent"
			},
			"order":17
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"CONDITIONING",
					"slot_index":0,
					"links":[
						57
					],
					"label":"CONDITIONING",
					"type":"CONDITIONING",
					"localized_name":"CONDITIONING"
				}
			],
			"size":[
				240,
				58
			],
			"pos":[
				295.8006591796875,
				88.65084075927734
			],
			"widgets_values":[
				2.5
			],
			"inputs":[
				{
					"name":"conditioning",
					"link":292,
					"label":"conditioning",
					"type":"CONDITIONING",
					"localized_name":"conditioning"
				}
			],
			"flags":{
				"collapsed":false
			},
			"id":35,
			"type":"FluxGuidance",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.38",
				"Node name for S&R":"FluxGuidance"
			},
			"order":18
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"LATENT",
					"slot_index":0,
					"links":[
						52
					],
					"label":"LATENT",
					"type":"LATENT",
					"localized_name":"LATENT"
				}
			],
			"size":[
				320,
				262
			],
			"pos":[
				553.416259765625,
				78.21324157714844
			],
			"widgets_values":[
				1085720770400717,
				"randomize",
				20,
				1,
				"euler",
				"simple",
				1
			],
			"inputs":[
				{
					"name":"model",
					"link":300,
					"label":"model",
					"type":"MODEL",
					"localized_name":"model"
				},
				{
					"name":"positive",
					"link":57,
					"label":"positive",
					"type":"CONDITIONING",
					"localized_name":"positive"
				},
				{
					"name":"negative",
					"link":238,
					"label":"negative",
					"type":"CONDITIONING",
					"localized_name":"negative"
				},
				{
					"name":"latent_image",
					"link":301,
					"label":"latent_image",
					"type":"LATENT",
					"localized_name":"latent_image"
				}
			],
			"flags":{
				
			},
			"id":31,
			"type":"KSampler",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.38",
				"Node name for S&R":"KSampler"
			},
			"order":19
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"MODEL",
					"links":[
						300
					],
					"label":"MODEL",
					"type":"MODEL",
					"localized_name":"MODEL"
				}
			],
			"size":[
				315,
				82
			],
			"pos":[
				-496.1366271972656,
				259.29669189453125
			],
			"widgets_values":[
				"JD3s_Nudify_Kontext.safetensors",
				1.0000000000000002
			],
			"inputs":[
				{
					"name":"model",
					"link":309,
					"label":"model",
					"type":"MODEL",
					"localized_name":"model"
				}
			],
			"flags":{
				
			},
			"id":191,
			"type":"LoraLoaderModelOnly",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoraLoaderModelOnly"
			},
			"order":11
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"STRING",
					"links":[
						306
					],
					"label":"STRING",
					"type":"STRING",
					"localized_name":"STRING"
				}
			],
			"size":[
				330.76666259765625,
				136
			],
			"pos":[
				-152.6390380859375,
				583.5977172851562
			],
			"widgets_values":[
				"The image now looks like a different photo of the same subject.",
				"",
				""
			],
			"inputs":[
				{
					"widget":{
						"name":"string_b"
					},
					"name":"string_b",
					"link":307,
					"label":"string_b",
					"type":"STRING"
				}
			],
			"flags":{
				
			},
			"id":196,
			"type":"StringConcatenate",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"StringConcatenate"
			},
			"order":10
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"LATENT",
					"links":[
						301
					],
					"label":"LATENT",
					"type":"LATENT",
					"localized_name":"LATENT"
				}
			],
			"size":[
				310,
				106
			],
			"pos":[
				4.695513725280762,
				335.12518310546875
			],
			"widgets_values":[
				1280,
				720,
				1
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":188,
			"type":"EmptySD3LatentImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.41",
				"Node name for S&R":"EmptySD3LatentImage"
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				834.2991333007812,
				531.9120483398438
			],
			"pos":[
				969.5348510742188,
				39.139007568359375
			],
			"widgets_values":[
				"ComfyUI",
				""
			],
			"inputs":[
				{
					"name":"images",
					"link":240,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"flags":{
				
			},
			"id":136,
			"type":"SaveImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.39",
				"Node name for S&R":"SaveImage"
			},
			"order":21
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						302
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				580.708740234375,
				612.2685546875
			],
			"pos":[
				-1561.6412353515625,
				60.17193603515625
			],
			"widgets_values":[
				"bac0dadaa27486b137c4ab7d7fe9887576e073f454cd99574661fea3a42439d8.jpg",
				"image",
				""
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":190,
			"type":"LoadImage",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadImage"
			},
			"order":6
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"STRING",
					"links":[
						307
					],
					"label":"STRING",
					"type":"STRING",
					"localized_name":"STRING"
				}
			],
			"size":[
				400,
				200
			],
			"pos":[
				-148.17747497558594,
				774.51416015625
			],
			"widgets_values":[
				"A vibrant and engaging close-up promotional poster. The main subject is a beautiful young woman with a warm smile and bright eyes, looking directly at the camera. She is holding a clean, minimalist white sign with both hands at chest level, presenting it to the viewer as if sharing exciting news. The setting is a modern space bathed in soft, natural light, perhaps a well-lit office or creative studio, with the background artfully blurred to show soft outlines of indoor plants and simple furniture, creating a bright and fresh atmosphere. The overall aesthetic style is high-end commercial lifestyle photography, characterized by a clean, crisp, and optimistic feel. The color palette is dominated by bright, warm natural light with perfectly balanced color saturation, giving a sense of authenticity and energy. The poster contains the exact text 'flux context is here'. This text is printed clearly in a clean, bold, modern black sans-serif font in the center of the sign the girl is holding, making it highly prominent. The layout is a tight, bust-up close-up, focusing entirely on the girl's expressive face and the message she is presenting. Her direct gaze and genuine smile establish a direct, emotional connection with the viewer, making the entire composition feel professional, persuasive, and delightfully approachable.",
				true
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":194,
			"type":"StringConstantMultiline",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"StringConstantMultiline"
			},
			"order":7
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"links_added_by_ue":[
			
		],
		"VHS_MetadataImage":true,
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"frontendVersion":"1.23.4",
		"VHS_latentpreview":false,
		"groupNodes":{
			
		},
		"ds":{
			"offset":[
				1730.778939871715,
				194.62368239807597
			],
			"scale":0.3719008264462839
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":1,
			"title":"Step 1- Load models",
			"bounding":[
				-899.0101928710938,
				-1.038557529449463,
				745.2471313476562,
				462.14251708984375
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":3,
			"title":"Step 2 - Upload images",
			"bounding":[
				-904.1980590820312,
				493.35675048828125,
				700,
				680
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":5,
			"title":"Step 3 - Prompt",
			"bounding":[
				-185.36778259277344,
				506.7525939941406,
				815.2681884765625,
				496.77239990234375
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":6,
			"title":"Conditioning",
			"bounding":[
				-30,
				10,
				931.6358032226562,
				451.8076171875
			]
		}
	],
	"links":[
		[
			52,
			31,
			0,
			8,
			0,
			"LATENT"
		],
		[
			57,
			35,
			0,
			31,
			1,
			"CONDITIONING"
		],
		[
			59,
			38,
			0,
			6,
			0,
			"CLIP"
		],
		[
			61,
			39,
			0,
			8,
			1,
			"VAE"
		],
		[
			222,
			42,
			0,
			124,
			0,
			"IMAGE"
		],
		[
			223,
			39,
			0,
			124,
			1,
			"VAE"
		],
		[
			237,
			6,
			0,
			135,
			0,
			"CONDITIONING"
		],
		[
			238,
			135,
			0,
			31,
			2,
			"CONDITIONING"
		],
		[
			240,
			8,
			0,
			136,
			0,
			"IMAGE"
		],
		[
			289,
			42,
			0,
			173,
			0,
			"IMAGE"
		],
		[
			292,
			177,
			0,
			35,
			0,
			"CONDITIONING"
		],
		[
			293,
			124,
			0,
			177,
			1,
			"LATENT"
		],
		[
			294,
			6,
			0,
			177,
			0,
			"CONDITIONING"
		],
		[
			300,
			191,
			0,
			31,
			0,
			"MODEL"
		],
		[
			301,
			188,
			0,
			31,
			3,
			"LATENT"
		],
		[
			302,
			190,
			0,
			193,
			0,
			"IMAGE"
		],
		[
			304,
			193,
			0,
			42,
			0,
			"IMAGE"
		],
		[
			306,
			196,
			0,
			6,
			1,
			"STRING"
		],
		[
			307,
			194,
			0,
			196,
			0,
			"STRING"
		],
		[
			308,
			37,
			0,
			197,
			0,
			"MODEL"
		],
		[
			309,
			197,
			0,
			191,
			0,
			"MODEL"
		]
	],
	"id":"7cbcec68-7fa6-47bb-a38a-da689949a001",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":197,
	"revision":0
}