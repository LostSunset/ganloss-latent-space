{
	"last_link_id":82,
	"nodes":[
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						29
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128
			],
			"inputs":[
				{
					"name":"vae",
					"link":28,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":27,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				174
			],
			"pos":[
				2060.107666015625,
				-639.314453125
			],
			"id":29,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoDecode"
			},
			"order":38
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						37
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				477.8205871582031,
				-535.647216796875
			],
			"id":32,
			"properties":{
				
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						36
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				477.41534423828125,
				-642.8055419921875
			],
			"id":33,
			"properties":{
				
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				{
					"name":"INT",
					"link":44,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-644.19482421875,
				-822.9588623046875
			],
			"id":17,
			"properties":{
				"previousName":"frames"
			},
			"order":27
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						38
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				477.2366943359375,
				-436.838134765625
			],
			"id":34,
			"properties":{
				
			},
			"order":2
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				472.3648681640625,
				800.3648681640625
			],
			"pos":[
				2450.107666015625,
				-639.314453125
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"AnimateDiff",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"filename":"AnimateDiff_00001_icqgx_1747726868.mp4",
						"workflow":"AnimateDiff_00001.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/AnimateDiff_00001.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":29,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":30,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":39
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://www.youtube.com/@sunleyan_2021",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				690.943359375,
				36
			],
			"pos":[
				-408.4283447265625,
				-1569.1685791015625
			],
			"id":60,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":3
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"bilibli：有趣的80后程序员",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				408.076171875,
				36
			],
			"pos":[
				-747.3751831054688,
				-1495.5076904296875
			],
			"id":61,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":4
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"youtube：AI老腊肉",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				306.123046875,
				36
			],
			"pos":[
				-749.1384887695312,
				-1569.7257080078125
			],
			"id":62,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":5
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"抖音：有趣的80后程序员",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				400.04296875,
				36
			],
			"pos":[
				-745.5243530273438,
				-1409.781982421875
			],
			"id":63,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":6
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"工作流下载地址：",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				288,
				36
			],
			"pos":[
				-745.0422973632812,
				-1324.40673828125
			],
			"id":64,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":7
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://github.com/amao2001/ganloss-latent-space",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				806.484375,
				36
			],
			"pos":[
				-429.3468017578125,
				-1321.133056640625
			],
			"id":65,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":8
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://space.bilibili.com/1078072406",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				590.37890625,
				36
			],
			"pos":[
				-310.0187072753906,
				-1498.1260986328125
			],
			"id":66,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":9
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"torch_compile_args",
					"slot_index":0,
					"links":[
						
					],
					"label":"torch_compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"torch_compile_args"
				}
			],
			"size":[
				390.5999755859375,
				202
			],
			"pos":[
				829.3307495117188,
				-1167.3192138671875
			],
			"widgets_values":[
				"inductor",
				false,
				"default",
				false,
				64,
				true,
				154
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":52,
			"type":"WanVideoTorchCompileSettings",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3869b0482b615b6a8fd6f346467c5ef6627eed72",
				"Node name for S&R":"WanVideoTorchCompileSettings"
			},
			"order":10
		},
		{
			"outputs":[
				{
					"name":"block_swap_args",
					"slot_index":0,
					"links":[
						74
					],
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"color":"#223",
			"widgets_values":[
				30,
				false,
				false,
				true,
				15
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				315,
				154
			],
			"pos":[
				425.32568359375,
				-1116.3975830078125
			],
			"id":51,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3869b0482b615b6a8fd6f346467c5ef6627eed72",
				"Node name for S&R":"WanVideoBlockSwap"
			},
			"order":11
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"vace_model",
					"links":[
						70
					],
					"label":"vace_model",
					"type":"VACEPATH",
					"localized_name":"vace_model"
				}
			],
			"size":[
				385.9415283203125,
				58
			],
			"pos":[
				495.1925964355469,
				-801.8903198242188
			],
			"widgets_values":[
				"Wan2_1-VACE_module_14B_bf16.safetensors"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":55,
			"type":"WanVideoVACEModelSelect",
			"properties":{
				"Node name for S&R":"WanVideoVACEModelSelect"
			},
			"order":12
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						3
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-fp8_e4m3fn.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				377.1661376953125,
				130
			],
			"pos":[
				740.8593139648438,
				-382.63055419921875
			],
			"id":2,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":13
		},
		{
			"outputs":[
				{
					"name":"vae",
					"slot_index":0,
					"links":[
						4,
						28
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_VAE_bf16.safetensors",
				"bf16"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoVAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				372.7727966308594,
				82
			],
			"pos":[
				718.7997436523438,
				-190.2176971435547
			],
			"id":3,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoVAELoader"
			},
			"order":14
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"vace_embeds",
					"links":[
						25
					],
					"label":"vace_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"vace_embeds"
				}
			],
			"size":[
				315,
				334
			],
			"pos":[
				1276.053955078125,
				-662.948486328125
			],
			"widgets_values":[
				832,
				480,
				81,
				1.0000000000000002,
				0,
				1,
				false
			],
			"inputs":[
				{
					"name":"vae",
					"link":4,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"shape":7,
					"name":"input_frames",
					"link":82,
					"label":"input_frames",
					"type":"IMAGE",
					"localized_name":"input_frames"
				},
				{
					"shape":7,
					"name":"ref_images",
					"link":23,
					"label":"ref_images",
					"type":"IMAGE",
					"localized_name":"ref_images"
				},
				{
					"shape":7,
					"name":"input_masks",
					"label":"input_masks",
					"type":"MASK",
					"localized_name":"input_masks"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":36,
					"label":"width",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":37,
					"label":"height",
					"type":"INT"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"link":38,
					"label":"num_frames",
					"type":"INT"
				},
				{
					"shape":7,
					"name":"prev_vace_embeds",
					"label":"prev_vace_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"prev_vace_embeds"
				}
			],
			"flags":{
				
			},
			"id":7,
			"type":"WanVideoVACEEncode",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ce6522c2279c30ed6ac157cbfacd8e15cb1cfae2",
				"Node name for S&R":"WanVideoVACEEncode"
			},
			"order":36
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						27
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"size":[
				327.28460693359375,
				558
			],
			"pos":[
				1690.1077880859375,
				-650.623779296875
			],
			"widgets_values":[
				30,
				4.000000000000001,
				5.000000000000001,
				1013806344486973,
				"randomize",
				true,
				"unipc",
				0,
				1,
				"",
				"comfy"
			],
			"inputs":[
				{
					"name":"model",
					"link":2,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"text_embeds",
					"link":26,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"name":"image_embeds",
					"link":25,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"link":72,
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"teacache_args",
					"label":"teacache_args",
					"type":"TEACACHEARGS",
					"localized_name":"teacache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"link":73,
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"link":71,
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				},
				{
					"shape":7,
					"name":"sigmas",
					"label":"sigmas",
					"type":"SIGMAS",
					"localized_name":"sigmas"
				},
				{
					"shape":7,
					"name":"unianimate_poses",
					"label":"unianimate_poses",
					"type":"UNIANIMATE_POSE",
					"localized_name":"unianimate_poses"
				},
				{
					"shape":7,
					"name":"fantasytalking_embeds",
					"label":"fantasytalking_embeds",
					"type":"FANTASYTALKING_EMBEDS",
					"localized_name":"fantasytalking_embeds"
				}
			],
			"flags":{
				
			},
			"id":4,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoSampler"
			},
			"order":37
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"text_embeds",
					"links":[
						26
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"size":[
				400,
				200
			],
			"pos":[
				1201.868896484375,
				-261.904296875
			],
			"widgets_values":[
				"a beautiful woman is walking",
				"色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
				true
			],
			"inputs":[
				{
					"name":"t5",
					"link":3,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				}
			],
			"flags":{
				
			},
			"id":6,
			"type":"WanVideoTextEncode",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ce6522c2279c30ed6ac157cbfacd8e15cb1cfae2",
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":25
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"feta_args",
					"links":[
						72
					],
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				1245.5108642578125,
				-843.6222534179688
			],
			"widgets_values":[
				2,
				0,
				1
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":57,
			"type":"WanVideoEnhanceAVideo",
			"properties":{
				"Node name for S&R":"WanVideoEnhanceAVideo"
			},
			"order":15
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"slg_args",
					"links":[
						73
					],
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				1613.5145263671875,
				-831.7095947265625
			],
			"widgets_values":[
				"9,10",
				0.20000000000000004,
				0.5000000000000001
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":58,
			"type":"WanVideoSLG",
			"properties":{
				"Node name for S&R":"WanVideoSLG"
			},
			"order":16
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"exp_args",
					"links":[
						71
					],
					"label":"exp_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"exp_args"
				}
			],
			"size":[
				327.5999755859375,
				226
			],
			"pos":[
				1640.356201171875,
				-30.708782196044922
			],
			"widgets_values":[
				"",
				true,
				false,
				0,
				false,
				1,
				1.25,
				20
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":56,
			"type":"WanVideoExperimentalArgs",
			"properties":{
				"Node name for S&R":"WanVideoExperimentalArgs"
			},
			"order":17
		},
		{
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						23
					],
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"refimg"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_refimg",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				60
			],
			"pos":[
				670.6179809570312,
				-28.977140426635742
			],
			"id":27,
			"properties":{
				
			},
			"order":18
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						19,
						62
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				315,
				314
			],
			"pos":[
				-866.68212890625,
				-442.0683288574219
			],
			"widgets_values":[
				"e24314eb2323e3a45cdb201b701acbd275067896565bac23675bc404d31a3e6b.png",
				"image",
				""
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":21,
			"type":"LoadImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.27",
				"Node name for S&R":"LoadImage"
			},
			"order":19
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						2
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"Wan2_1-MoviiGen1_1_fp8_e4m3fn.safetensors",
				"bf16",
				"fp8_e4m3fn",
				"offload_device",
				"sageattn"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"link":74,
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				},
				{
					"shape":7,
					"name":"vace_model",
					"link":70,
					"label":"vace_model",
					"type":"VACEPATH",
					"localized_name":"vace_model"
				},
				{
					"shape":7,
					"name":"fantasytalking_model",
					"label":"fantasytalking_model",
					"type":"FANTASYTALKINGMODEL",
					"localized_name":"fantasytalking_model"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				477.4410095214844,
				254
			],
			"pos":[
				721.2178344726562,
				-704.3552856445312
			],
			"id":1,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":24
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						17,
						63,
						75
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				640
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-896.4404296875,
				-818.4089965820312
			],
			"id":12,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":20
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						18,
						64,
						76
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				640
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-887.3163452148438,
				-692.4093017578125
			],
			"id":13,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":21
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						44,
						77
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				49
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-889.072998046875,
				-566.4945068359375
			],
			"id":14,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":22
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						65,
						66,
						79
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						69
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						68
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				}
			],
			"size":[
				315,
				242
			],
			"pos":[
				-401.5735778808594,
				-808.1764526367188
			],
			"widgets_values":[
				512,
				512,
				"nearest-exact",
				"resize",
				"255,255,255",
				"center",
				2
			],
			"inputs":[
				{
					"name":"image",
					"link":62,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":63,
					"label":"width",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":64,
					"label":"height",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":54,
			"type":"ImageResizeKJv2",
			"properties":{
				"Node name for S&R":"ImageResizeKJv2"
			},
			"order":26
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				{
					"name":"INT",
					"link":69,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				60
			],
			"pos":[
				-49.4286994934082,
				-807.2326049804688
			],
			"id":15,
			"properties":{
				"previousName":"width"
			},
			"order":31
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				{
					"name":"INT",
					"link":68,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-41.663448333740234,
				-699.6025390625
			],
			"id":16,
			"properties":{
				"previousName":"height"
			},
			"order":32
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"refimg"
			],
			"inputs":[
				{
					"name":"IMAGE",
					"link":66,
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_refimg",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				58
			],
			"pos":[
				185.03851318359375,
				-802.1993408203125
			],
			"id":26,
			"properties":{
				"previousName":"refimg"
			},
			"order":30
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				210,
				246
			],
			"pos":[
				196.86724853515625,
				-681.478515625
			],
			"widgets_values":[
				""
			],
			"inputs":[
				{
					"name":"images",
					"link":65,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"flags":{
				
			},
			"id":24,
			"type":"PreviewImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.27",
				"Node name for S&R":"PreviewImage"
			},
			"order":29
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"INT",
					"links":[
						78
					],
					"label":"INT",
					"type":"INT",
					"localized_name":"INT"
				},
				{
					"name":"FLOAT",
					"label":"FLOAT",
					"type":"FLOAT",
					"localized_name":"FLOAT"
				}
			],
			"size":[
				315,
				98
			],
			"pos":[
				-852.5285034179688,
				-70.85396575927734
			],
			"widgets_values":[
				"a-1"
			],
			"inputs":[
				{
					"shape":7,
					"name":"a",
					"link":77,
					"label":"a",
					"type":"*",
					"localized_name":"a"
				},
				{
					"shape":7,
					"name":"b",
					"label":"b",
					"type":"*",
					"localized_name":"b"
				},
				{
					"shape":7,
					"name":"c",
					"label":"c",
					"type":"*",
					"localized_name":"c"
				}
			],
			"flags":{
				
			},
			"id":68,
			"type":"SimpleMath+",
			"properties":{
				"Node name for S&R":"SimpleMath+"
			},
			"order":28
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				604.6300048828125,
				339.828125
			],
			"pos":[
				-196.9022216796875,
				-302.54583740234375
			],
			"widgets_values":[
				""
			],
			"inputs":[
				{
					"name":"images",
					"link":81,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"flags":{
				
			},
			"id":70,
			"type":"PreviewImage",
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.27",
				"Node name for S&R":"PreviewImage"
			},
			"order":35
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						81,
						82
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				}
			],
			"size":[
				210,
				66
			],
			"pos":[
				-432.6066589355469,
				-300.9185485839844
			],
			"inputs":[
				{
					"name":"image1",
					"link":79,
					"label":"image1",
					"type":"IMAGE",
					"localized_name":"image1"
				},
				{
					"name":"image2",
					"link":80,
					"type":"IMAGE"
				},
				{
					"name":"image3",
					"type":"IMAGE"
				}
			],
			"flags":{
				
			},
			"id":69,
			"type":"ImpactMakeImageBatch",
			"properties":{
				"Node name for S&R":"ImpactMakeImageBatch"
			},
			"order":34
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						80
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				}
			],
			"size":[
				315,
				130
			],
			"pos":[
				-423.6727600097656,
				-505.8531188964844
			],
			"widgets_values":[
				512,
				512,
				1,
				8355711
			],
			"inputs":[
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":75,
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":76,
					"type":"INT"
				},
				{
					"widget":{
						"name":"batch_size"
					},
					"name":"batch_size",
					"link":78,
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":67,
			"type":"EmptyImage",
			"properties":{
				"Node name for S&R":"EmptyImage"
			},
			"order":33
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"有趣的80后程序员：vace+moviigen 图生视频增强引导",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				867.181640625,
				36
			],
			"pos":[
				-747.6026000976562,
				-1657.2899169921875
			],
			"id":59,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":23
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"VHS_MetadataImage":true,
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"VHS_latentpreview":false,
		"ds":{
			"offset":[
				1109.3043447861219,
				1911.2295408621
			],
			"scale":0.3073560549142855
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":1,
			"title":"数据处理",
			"bounding":[
				-899.072998046875,
				-900.3699340820312,
				1329.0477294921875,
				953.517333984375
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":2,
			"title":"采样",
			"bounding":[
				467.2366638183594,
				-903.922119140625,
				2726.287109375,
				1127.2227783203125
			]
		}
	],
	"links":[
		[
			2,
			1,
			0,
			4,
			0,
			"WANVIDEOMODEL"
		],
		[
			3,
			2,
			0,
			6,
			0,
			"WANTEXTENCODER"
		],
		[
			4,
			3,
			0,
			7,
			0,
			"WANVAE"
		],
		[
			23,
			27,
			0,
			7,
			2,
			"IMAGE"
		],
		[
			25,
			7,
			0,
			4,
			2,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			26,
			6,
			0,
			4,
			1,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			27,
			4,
			0,
			29,
			1,
			"LATENT"
		],
		[
			28,
			3,
			0,
			29,
			0,
			"WANVAE"
		],
		[
			29,
			29,
			0,
			30,
			0,
			"IMAGE"
		],
		[
			36,
			33,
			0,
			7,
			4,
			"INT"
		],
		[
			37,
			32,
			0,
			7,
			5,
			"INT"
		],
		[
			38,
			34,
			0,
			7,
			6,
			"INT"
		],
		[
			44,
			14,
			0,
			17,
			0,
			"INT"
		],
		[
			62,
			21,
			0,
			54,
			0,
			"IMAGE"
		],
		[
			63,
			12,
			0,
			54,
			1,
			"INT"
		],
		[
			64,
			13,
			0,
			54,
			2,
			"INT"
		],
		[
			65,
			54,
			0,
			24,
			0,
			"IMAGE"
		],
		[
			66,
			54,
			0,
			26,
			0,
			"IMAGE"
		],
		[
			68,
			54,
			2,
			16,
			0,
			"INT"
		],
		[
			69,
			54,
			1,
			15,
			0,
			"INT"
		],
		[
			70,
			55,
			0,
			1,
			4,
			"VACEPATH"
		],
		[
			71,
			56,
			0,
			4,
			10,
			"EXPERIMENTALARGS"
		],
		[
			72,
			57,
			0,
			4,
			4,
			"FETAARGS"
		],
		[
			73,
			58,
			0,
			4,
			8,
			"SLGARGS"
		],
		[
			74,
			51,
			0,
			1,
			1,
			"BLOCKSWAPARGS"
		],
		[
			75,
			12,
			0,
			67,
			0,
			"INT"
		],
		[
			76,
			13,
			0,
			67,
			1,
			"INT"
		],
		[
			77,
			14,
			0,
			68,
			0,
			"*"
		],
		[
			78,
			68,
			0,
			67,
			2,
			"INT"
		],
		[
			79,
			54,
			0,
			69,
			0,
			"IMAGE"
		],
		[
			80,
			67,
			0,
			69,
			1,
			"IMAGE"
		],
		[
			81,
			69,
			0,
			70,
			0,
			"IMAGE"
		],
		[
			82,
			69,
			0,
			7,
			1,
			"IMAGE"
		]
	],
	"id":"c8b75117-7a2c-45b9-b5d5-d0dccab7a91f",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":70,
	"revision":0
}