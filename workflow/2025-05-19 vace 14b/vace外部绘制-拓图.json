{
	"last_link_id":137,
	"nodes":[
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						29
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128
			],
			"inputs":[
				{
					"name":"vae",
					"link":28,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":27,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				174
			],
			"pos":[
				2921.7197265625,
				-210.9269256591797
			],
			"id":29,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoDecode"
			},
			"order":33
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						37
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1339.4326171875,
				-107.25975036621094
			],
			"id":32,
			"properties":{
				
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						36
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1339.0274658203125,
				-214.4180145263672
			],
			"id":33,
			"properties":{
				
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						38
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1338.8487548828125,
				-8.450428009033203
			],
			"id":34,
			"properties":{
				
			},
			"order":2
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						2
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"Wan2_1-T2V-14B_fp8_e4m3fn.safetensors",
				"bf16",
				"fp8_e4m3fn",
				"offload_device",
				"sageattn"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"link":74,
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				},
				{
					"shape":7,
					"name":"vace_model",
					"link":70,
					"label":"vace_model",
					"type":"VACEPATH",
					"localized_name":"vace_model"
				},
				{
					"shape":7,
					"name":"fantasytalking_model",
					"label":"fantasytalking_model",
					"type":"FANTASYTALKINGMODEL",
					"localized_name":"fantasytalking_model"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				477.4410095214844,
				254
			],
			"pos":[
				1583.7506103515625,
				-258.1867980957031
			],
			"id":1,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":27
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"vace_model",
					"links":[
						70
					],
					"label":"vace_model",
					"type":"VACEPATH",
					"localized_name":"vace_model"
				}
			],
			"size":[
				327.5999755859375,
				58
			],
			"pos":[
				1343.7010498046875,
				-361.6595458984375
			],
			"widgets_values":[
				"Wan2_1-VACE_module_14B_bf16.safetensors"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":55,
			"type":"WanVideoVACEModelSelect",
			"properties":{
				"Node name for S&R":"WanVideoVACEModelSelect"
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						3
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-fp8_e4m3fn.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				377.1661376953125,
				130
			],
			"pos":[
				1585.4119873046875,
				48.76766586303711
			],
			"id":2,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":4
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"feta_args",
					"links":[
						72
					],
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				2086.3896484375,
				-409.4293518066406
			],
			"widgets_values":[
				2,
				0,
				1
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":57,
			"type":"WanVideoEnhanceAVideo",
			"properties":{
				"Node name for S&R":"WanVideoEnhanceAVideo"
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"slg_args",
					"links":[
						73
					],
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				}
			],
			"size":[
				315,
				106
			],
			"pos":[
				2478.444091796875,
				-404.1514587402344
			],
			"widgets_values":[
				"9,10",
				0.20000000000000004,
				0.5000000000000001
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":58,
			"type":"WanVideoSLG",
			"properties":{
				"Node name for S&R":"WanVideoSLG"
			},
			"order":6
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				472.3648681640625,
				1132.09912109375
			],
			"pos":[
				3311.7197265625,
				-210.9269256591797
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"AnimateDiff",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"filename":"AnimateDiff_00009_rqbco_1747305024.mp4",
						"workflow":"AnimateDiff_00009.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/AnimateDiff_00009.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":29,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":30,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":35
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						27
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				}
			],
			"size":[
				327.28460693359375,
				558
			],
			"pos":[
				2551.719970703125,
				-210.9269256591797
			],
			"widgets_values":[
				30,
				4.000000000000001,
				5.000000000000001,
				482879333720238,
				"randomize",
				true,
				"unipc",
				0,
				1,
				"",
				"comfy"
			],
			"inputs":[
				{
					"name":"model",
					"link":2,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"text_embeds",
					"link":26,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"name":"image_embeds",
					"link":25,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"link":72,
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"teacache_args",
					"link":61,
					"label":"teacache_args",
					"type":"TEACACHEARGS",
					"localized_name":"teacache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"link":73,
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"link":71,
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				},
				{
					"shape":7,
					"name":"sigmas",
					"label":"sigmas",
					"type":"SIGMAS",
					"localized_name":"sigmas"
				},
				{
					"shape":7,
					"name":"unianimate_poses",
					"label":"unianimate_poses",
					"type":"UNIANIMATE_POSE",
					"localized_name":"unianimate_poses"
				},
				{
					"shape":7,
					"name":"fantasytalking_embeds",
					"label":"fantasytalking_embeds",
					"type":"FANTASYTALKING_EMBEDS",
					"localized_name":"fantasytalking_embeds"
				}
			],
			"flags":{
				
			},
			"id":4,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoSampler"
			},
			"order":31
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"teacache_args",
					"links":[
						61
					],
					"label":"teacache_args",
					"type":"TEACACHEARGS",
					"localized_name":"teacache_args"
				}
			],
			"size":[
				315,
				178
			],
			"pos":[
				2108.416748046875,
				415.91717529296875
			],
			"widgets_values":[
				0.10000000000000002,
				1,
				-1,
				"offload_device",
				true,
				"e"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":50,
			"type":"WanVideoTeaCache",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ce6522c2279c30ed6ac157cbfacd8e15cb1cfae2",
				"Node name for S&R":"WanVideoTeaCache"
			},
			"order":7
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"text_embeds",
					"links":[
						26
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"size":[
				400,
				200
			],
			"pos":[
				2066.849609375,
				149.9427490234375
			],
			"widgets_values":[
				"一个女孩正在坐着吃早餐",
				"色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
				true
			],
			"inputs":[
				{
					"name":"t5",
					"link":3,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				}
			],
			"flags":{
				
			},
			"id":6,
			"type":"WanVideoTextEncode",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ce6522c2279c30ed6ac157cbfacd8e15cb1cfae2",
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":26
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						77
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"frame_count",
					"label":"frame_count",
					"type":"INT",
					"localized_name":"frame_count"
				},
				{
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"name":"video_info",
					"label":"video_info",
					"type":"VHS_VIDEOINFO",
					"localized_name":"video_info"
				}
			],
			"size":[
				253.279296875,
				698.4195556640625
			],
			"pos":[
				-927.1575317382812,
				-753.7186889648438
			],
			"widgets_values":{
				"custom_height":0,
				"force_rate":0,
				"custom_width":0,
				"select_every_nth":1,
				"frame_load_cap":0,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"custom_height":832,
						"filename":"a9d2e71d230e201ce1410cf1e8aa1053774584ae41e5737c0125b0d137138335.mp4",
						"force_rate":0,
						"custom_width":0,
						"select_every_nth":1,
						"frame_load_cap":0,
						"format":"video/mp4",
						"skip_first_frames":0,
						"type":"input"
					}
				},
				"format":"AnimateDiff",
				"video":"a9d2e71d230e201ce1410cf1e8aa1053774584ae41e5737c0125b0d137138335.mp4",
				"skip_first_frames":0,
				"force_size":"Disabled",
				"choose video to upload":"image"
			},
			"inputs":[
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"frame_load_cap"
					},
					"name":"frame_load_cap",
					"link":95,
					"label":"frame_load_cap",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":60,
			"type":"VHS_LoadVideo",
			"properties":{
				"Node name for S&R":"VHS_LoadVideo"
			},
			"order":30
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						81
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				}
			],
			"size":[
				315,
				242
			],
			"pos":[
				-606.4343872070312,
				-782.1080322265625
			],
			"widgets_values":[
				512,
				512,
				"nearest-exact",
				"crop",
				"255,255,255",
				"center",
				2
			],
			"inputs":[
				{
					"name":"image",
					"link":77,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":93,
					"label":"width",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":94,
					"label":"height",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":62,
			"type":"ImageResizeKJv2",
			"properties":{
				"Node name for S&R":"ImageResizeKJv2"
			},
			"order":32
		},
		{
			"outputs":[
				{
					"name":"vae",
					"slot_index":0,
					"links":[
						4,
						28
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_VAE_bf16.safetensors",
				"bf16"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoVAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				372.7727966308594,
				82
			],
			"pos":[
				1588.8388671875,
				236.5104217529297
			],
			"id":3,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"Node name for S&R":"WanVideoVAELoader"
			},
			"order":8
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"vace_embeds",
					"links":[
						25
					],
					"label":"vace_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"vace_embeds"
				}
			],
			"size":[
				315,
				334
			],
			"pos":[
				2111.949462890625,
				-240.1968231201172
			],
			"widgets_values":[
				832,
				480,
				81,
				1.0000000000000002,
				0,
				1,
				false
			],
			"inputs":[
				{
					"name":"vae",
					"link":4,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"shape":7,
					"name":"input_frames",
					"link":88,
					"label":"input_frames",
					"type":"IMAGE",
					"localized_name":"input_frames"
				},
				{
					"shape":7,
					"name":"ref_images",
					"label":"ref_images",
					"type":"IMAGE",
					"localized_name":"ref_images"
				},
				{
					"shape":7,
					"name":"input_masks",
					"link":125,
					"label":"input_masks",
					"type":"MASK",
					"localized_name":"input_masks"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":36,
					"label":"width",
					"type":"INT"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":37,
					"label":"height",
					"type":"INT"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"link":38,
					"label":"num_frames",
					"type":"INT"
				},
				{
					"shape":7,
					"name":"prev_vace_embeds",
					"label":"prev_vace_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"prev_vace_embeds"
				}
			],
			"flags":{
				
			},
			"id":7,
			"type":"WanVideoVACEEncode",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"ce6522c2279c30ed6ac157cbfacd8e15cb1cfae2",
				"Node name for S&R":"WanVideoVACEEncode"
			},
			"order":28
		},
		{
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						108
					],
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"input_frames"
			],
			"inputs":[
				{
					"name":"IMAGE",
					"link":81,
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_input_frames",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				60
			],
			"pos":[
				-253.38523864746094,
				-781.9795532226562
			],
			"id":66,
			"properties":{
				"previousName":"input_frames"
			},
			"order":34
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"",
					"links":[
						110
					],
					"label":"",
					"type":"IMAGE"
				}
			],
			"size":[
				75,
				26
			],
			"pos":[
				62.57318878173828,
				-780.585693359375
			],
			"inputs":[
				{
					"name":"",
					"link":108,
					"label":"",
					"type":"*"
				}
			],
			"flags":{
				
			},
			"id":80,
			"type":"Reroute",
			"properties":{
				"horizontal":false,
				"showOutputText":false
			},
			"order":36
		},
		{
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						88
					],
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"ref_1_videomask"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_ref_1_videomask",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				233.8437042236328,
				58
			],
			"pos":[
				1331.96240234375,
				105.87277221679688
			],
			"id":72,
			"properties":{
				
			},
			"order":9
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						114
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				428.4000244140625,
				102
			],
			"pos":[
				-662.249267578125,
				-195.35726928710938
			],
			"widgets_values":[
				0,
				1
			],
			"inputs":[
				{
					"shape":7,
					"name":"images",
					"link":113,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"masks",
					"label":"masks",
					"type":"MASK",
					"localized_name":"masks"
				}
			],
			"flags":{
				
			},
			"id":93,
			"type":"GetImageRangeFromBatch",
			"properties":{
				"Node name for S&R":"GetImageRangeFromBatch"
			},
			"order":39
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				{
					"name":"INT",
					"link":115,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				60
			],
			"pos":[
				85.22492218017578,
				-460.4707946777344
			],
			"id":94,
			"properties":{
				"previousName":"width"
			},
			"order":44
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				{
					"name":"INT",
					"link":116,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				66.74016571044922,
				-343.22271728515625
			],
			"id":95,
			"properties":{
				"previousName":"height"
			},
			"order":45
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"ref_1_videomask"
			],
			"inputs":[
				{
					"name":"IMAGE",
					"link":126,
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_ref_1_videomask",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				58
			],
			"pos":[
				67.51480102539062,
				-228.86709594726562
			],
			"id":90,
			"properties":{
				"previousName":""
			},
			"order":40
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				557.4149780273438,
				1279.519287109375
			],
			"pos":[
				361.8934631347656,
				-759.0576171875
			],
			"widgets_values":{
				"save_output":false,
				"filename_prefix":"AnimateDiff",
				"loop_count":96,
				"pix_fmt":"yuv420p",
				"save_metadata":false,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"filename":"AnimateDiff_00020_uqqpm_1747304384.mp4",
						"workflow":"AnimateDiff_00020.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/temp/AnimateDiff_00020.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"type":"temp",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":111,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				}
			],
			"flags":{
				
			},
			"id":89,
			"type":"VHS_VideoCombine",
			"properties":{
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":38
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image",
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"name":"width",
					"links":[
						115
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						116
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"name":"count",
					"label":"count",
					"type":"INT",
					"localized_name":"count"
				}
			],
			"size":[
				277.20001220703125,
				86
			],
			"pos":[
				-241.74563598632812,
				-442.9493713378906
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"image",
					"link":114,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				
			},
			"id":92,
			"type":"GetImageSizeAndCount",
			"properties":{
				"Node name for S&R":"GetImageSizeAndCount"
			},
			"order":42
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						133
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				60
			],
			"pos":[
				-632.9639892578125,
				-34.473533630371094
			],
			"id":100,
			"properties":{
				
			},
			"order":10
		},
		{
			"outputs":[
				{
					"name":"*",
					"links":[
						
					],
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1c5715",
			"widgets_values":[
				"ref_1_mask"
			],
			"inputs":[
				{
					"name":"MASK",
					"link":135,
					"label":"MASK",
					"type":"MASK"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_ref_1_mask",
			"mode":0,
			"bgcolor":"#1f401b",
			"size":[
				210,
				58
			],
			"pos":[
				81.49945831298828,
				-658.16015625
			],
			"id":87,
			"properties":{
				"previousName":""
			},
			"order":43
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"repeated_masks",
					"links":[
						135
					],
					"label":"repeated_masks",
					"type":"MASK",
					"localized_name":"repeated_masks"
				}
			],
			"size":[
				315,
				58
			],
			"pos":[
				-258.5768737792969,
				-617.2924194335938
			],
			"widgets_values":[
				1
			],
			"inputs":[
				{
					"name":"masks",
					"link":132,
					"label":"masks",
					"type":"MASK",
					"localized_name":"masks"
				},
				{
					"widget":{
						"name":"amount"
					},
					"name":"amount",
					"link":133,
					"label":"amount",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"id":104,
			"type":"MaskRepeatBatch",
			"properties":{
				"Node name for S&R":"MaskRepeatBatch"
			},
			"order":41
		},
		{
			"outputs":[
				{
					"name":"block_swap_args",
					"slot_index":0,
					"links":[
						74
					],
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"color":"#223",
			"widgets_values":[
				30,
				false,
				false,
				true,
				15
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"WanVideoBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				315,
				154
			],
			"pos":[
				1316.763671875,
				-792.2233276367188
			],
			"id":51,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3869b0482b615b6a8fd6f346467c5ef6627eed72",
				"Node name for S&R":"WanVideoBlockSwap"
			},
			"order":11
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"torch_compile_args",
					"slot_index":0,
					"links":[
						
					],
					"label":"torch_compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"torch_compile_args"
				}
			],
			"size":[
				390.5999755859375,
				202
			],
			"pos":[
				1723.865234375,
				-789.7077026367188
			],
			"widgets_values":[
				"inductor",
				false,
				"default",
				false,
				64,
				true,
				154
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":52,
			"type":"WanVideoTorchCompileSettings",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3869b0482b615b6a8fd6f346467c5ef6627eed72",
				"Node name for S&R":"WanVideoTorchCompileSettings"
			},
			"order":12
		},
		{
			"outputs":[
				{
					"name":"MASK",
					"links":[
						125
					],
					"label":"MASK",
					"type":"MASK"
				}
			],
			"color":"#1c5715",
			"widgets_values":[
				"ref_1_mask"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"GetNode",
			"title":"Get_ref_1_mask",
			"mode":0,
			"bgcolor":"#1f401b",
			"size":[
				210,
				58
			],
			"pos":[
				1351.169921875,
				217.11534118652344
			],
			"id":73,
			"properties":{
				
			},
			"order":13
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				{
					"name":"INT",
					"link":44,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-891.4559936523438,
				43.13948059082031
			],
			"id":17,
			"properties":{
				"previousName":"frames"
			},
			"order":29
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						18,
						94
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				704
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-1215.2327880859375,
				-636.9439086914062
			],
			"id":13,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":14
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						44,
						95
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				49
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-1208.3848876953125,
				-504.5755615234375
			],
			"id":14,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":15
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						17,
						93
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				352
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				-1215.8013916015625,
				-357.13714599609375
			],
			"id":12,
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"52c2e31a903fec2dd654fb614ea82ba2757d5028",
				"Node name for S&R":"INTConstant"
			},
			"order":16
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://www.youtube.com/@sunleyan_2021",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				690.943359375,
				36
			],
			"pos":[
				-732.5164794921875,
				-1489.5313720703125
			],
			"id":106,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":17
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"bilibli：有趣的80后程序员",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				408.076171875,
				36
			],
			"pos":[
				-1071.46337890625,
				-1415.87060546875
			],
			"id":107,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":18
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"youtube：AI老腊肉",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				306.123046875,
				36
			],
			"pos":[
				-1073.2266845703125,
				-1490.0885009765625
			],
			"id":108,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":19
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"抖音：有趣的80后程序员",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				400.04296875,
				36
			],
			"pos":[
				-1069.612548828125,
				-1330.1448974609375
			],
			"id":109,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":20
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"工作流下载地址：",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				288,
				36
			],
			"pos":[
				-1069.1304931640625,
				-1244.769775390625
			],
			"id":110,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":21
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://github.com/amao2001/ganloss-latent-space",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				806.484375,
				36
			],
			"pos":[
				-753.4349365234375,
				-1241.49609375
			],
			"id":111,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":22
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"https://space.bilibili.com/1078072406",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				590.37890625,
				36
			],
			"pos":[
				-634.1068725585938,
				-1418.489013671875
			],
			"id":112,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":23
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						111,
						113,
						118,
						126
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"links":[
						132
					],
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				315,
				174
			],
			"pos":[
				-606.8643188476562,
				-451.7964172363281
			],
			"widgets_values":[
				64,
				64,
				64,
				64,
				0
			],
			"inputs":[
				{
					"name":"image",
					"link":110,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				
			},
			"id":91,
			"type":"ImagePadForOutpaint",
			"properties":{
				"Node name for S&R":"ImagePadForOutpaint"
			},
			"order":37
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"exp_args",
					"links":[
						71
					],
					"label":"exp_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"exp_args"
				}
			],
			"size":[
				327.5999755859375,
				226
			],
			"pos":[
				2550.0703125,
				406.8017272949219
			],
			"widgets_values":[
				"",
				true,
				false,
				0,
				false,
				0,
				1.25,
				20
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":56,
			"type":"WanVideoExperimentalArgs",
			"properties":{
				"Node name for S&R":"WanVideoExperimentalArgs"
			},
			"order":24
		},
		{
			"outputs":[
				
			],
			"color":"#fff0",
			"inputs":[
				
			],
			"flags":{
				"allow_interaction":true
			},
			"type":"Label (rgthree)",
			"title":"有趣的80后程序员：vace外部绘制-阔图",
			"mode":0,
			"bgcolor":"#fff0",
			"size":[
				632.07421875,
				36
			],
			"pos":[
				-1071.6907958984375,
				-1577.6527099609375
			],
			"id":105,
			"properties":{
				"padding":0,
				"backgroundColor":"transparent",
				"fontFamily":"Arial",
				"borderRadius":0,
				"textAlign":"left",
				"fontSize":36,
				"fontColor":"#ffffff"
			},
			"order":25
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"VHS_MetadataImage":true,
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"VHS_latentpreview":false,
		"ds":{
			"offset":[
				1883.649212937904,
				1907.6840819083652
			],
			"scale":0.17349448024328978
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":2,
			"title":"采样",
			"bounding":[
				1328.8487548828125,
				-475.53460693359375,
				2726.287109375,
				1127.2227783203125
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":3,
			"title":"Group",
			"bounding":[
				-937.1575927734375,
				-855.7080078125,
				2150.143798828125,
				1518.220458984375
			]
		}
	],
	"links":[
		[
			2,
			1,
			0,
			4,
			0,
			"WANVIDEOMODEL"
		],
		[
			3,
			2,
			0,
			6,
			0,
			"WANTEXTENCODER"
		],
		[
			4,
			3,
			0,
			7,
			0,
			"WANVAE"
		],
		[
			25,
			7,
			0,
			4,
			2,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			26,
			6,
			0,
			4,
			1,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			27,
			4,
			0,
			29,
			1,
			"LATENT"
		],
		[
			28,
			3,
			0,
			29,
			0,
			"WANVAE"
		],
		[
			29,
			29,
			0,
			30,
			0,
			"IMAGE"
		],
		[
			36,
			33,
			0,
			7,
			4,
			"INT"
		],
		[
			37,
			32,
			0,
			7,
			5,
			"INT"
		],
		[
			38,
			34,
			0,
			7,
			6,
			"INT"
		],
		[
			44,
			14,
			0,
			17,
			0,
			"INT"
		],
		[
			61,
			50,
			0,
			4,
			6,
			"TEACACHEARGS"
		],
		[
			70,
			55,
			0,
			1,
			4,
			"VACEPATH"
		],
		[
			71,
			56,
			0,
			4,
			10,
			"EXPERIMENTALARGS"
		],
		[
			72,
			57,
			0,
			4,
			4,
			"FETAARGS"
		],
		[
			73,
			58,
			0,
			4,
			8,
			"SLGARGS"
		],
		[
			74,
			51,
			0,
			1,
			1,
			"BLOCKSWAPARGS"
		],
		[
			77,
			60,
			0,
			62,
			0,
			"IMAGE"
		],
		[
			81,
			62,
			0,
			66,
			0,
			"*"
		],
		[
			88,
			72,
			0,
			7,
			1,
			"IMAGE"
		],
		[
			93,
			12,
			0,
			62,
			1,
			"INT"
		],
		[
			94,
			13,
			0,
			62,
			2,
			"INT"
		],
		[
			95,
			14,
			0,
			60,
			2,
			"INT"
		],
		[
			108,
			66,
			0,
			80,
			0,
			"*"
		],
		[
			110,
			80,
			0,
			91,
			0,
			"IMAGE"
		],
		[
			111,
			91,
			0,
			89,
			0,
			"IMAGE"
		],
		[
			113,
			91,
			0,
			93,
			0,
			"IMAGE"
		],
		[
			114,
			93,
			0,
			92,
			0,
			"IMAGE"
		],
		[
			115,
			92,
			1,
			94,
			0,
			"*"
		],
		[
			116,
			92,
			2,
			95,
			0,
			"*"
		],
		[
			125,
			73,
			0,
			7,
			3,
			"MASK"
		],
		[
			126,
			91,
			0,
			90,
			0,
			"IMAGE"
		],
		[
			132,
			91,
			1,
			104,
			0,
			"MASK"
		],
		[
			133,
			100,
			0,
			104,
			1,
			"INT"
		],
		[
			135,
			104,
			0,
			87,
			0,
			"MASK"
		]
	],
	"id":"c8b75117-7a2c-45b9-b5d5-d0dccab7a91f",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":112,
	"revision":0
}